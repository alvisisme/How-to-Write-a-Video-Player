# 视频截图

## 概述

电影文件有一些基本组件需要预先了解下，首先，文件本身我们称为 **容器(container)** ，不同的容器内部数据的组织方式并不相同，我们见到的文件一般都带有avi或者mp4等后缀，我们称之为 **封装格式(format)** ，代表的就是文件内部的数据组织方式，封装格式的主要作用是把视频码流和音频码流按照一定的格式存储在一个文件中.

所谓的 **流(streams)** 其实是个动态的概念，表示一连串随着时间被读取写入的数据，一个电影文件内通常有一个音频流和视频流，我们会循环读入然后分别输出画面和播放声音．

流内的数据元素我们称之为 **数据帧(frames)** ，每个流都是被一些不同的 **编解码器(codec)** 编码的，编解码器定义了真实数据是如何被编码和解码的，编解码的例子有DivX和MP3等．

我们从流中读取的数据是 **数据包(packets)** ，数据包内可能包含多个数据帧，这些数据被编解码器解码成未加工的数据帧后被我们的应用所使用．

一个基本的处理视频和音频流的过程如下
```text
10 OPEN streams FROM video.avi
20 READ packets FROM streams INTO frames
30 IF frames NOT COMPLETE GOTO 20
40 DO SOMETHING WITH frames
50 GOTO 20
```

使用ffmpeg处理多媒体文件的流程主要就是分为上面描述的几个步骤，只不过很多应用在对数据帧的处理上非常复杂．

我们现在按照这个流程编写一个例子，先打开一个视频文件，从里面读取视频流，然后将读取的的数据包里面的每一个数据帧都写入一个PPM文件中，实现一个简单的视频截图功能．

## 步骤

* 打开文件



*  



